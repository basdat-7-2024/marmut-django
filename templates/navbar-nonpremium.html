<nav class="navigation-bar navbar navbar-expand-lg">
    <a href="#" class="logo-navbar navbar-brand">
        <img class="marmut-image" src="https://i.ibb.co/X3rKb3B/Group-3304.png" alt="Marmut" />
        <div class="text-navbar">Marmut</div>
    </a>
    <div class="navbar-right-section">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedMarmut"
            aria-controls="navbarSupportedMarmut" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedMarmut">
            <ul class="section-navbar navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="#">Dashboard</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Chart</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Kelola Playlist</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'langganan_paket:listpaket' %}">Langganan Paket</a>
                </li>
            </ul>
            <form class="search-and-button form-inline" action="#" method="get">
                <input class="form-control" type="search" name="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success" type="submit" role="button">
                    <i class="fas fa-search"></i>
                </button>
                <a class="btn btn-outline-danger logout-button" href="#" role="button">Logout</a>
            </form>
        </div>
    </div>
</nav>

<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", function() {
        const searchForm = document.querySelector('.search-and-button');
        const searchInput = document.querySelector('.form-control');
        const searchButton = searchForm.querySelector('button');

        // Enable search button only if there is text in the search input
        searchInput.addEventListener('input', () => {
            searchButton.disabled = !searchInput.value.trim();
        });

        searchForm.addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent normal form submission
            const query = searchInput.value.trim();
            if (query) {
                window.location.href = `/search/${encodeURIComponent(query)}/`; // Redirect to the search URL
            }
        });

        // Add 'active-item' class to the nav link based on the current page
        const currentPath = window.location.pathname;
        const navLinks = document.querySelectorAll('.nav-link');

        navLinks.forEach(link => {
            const linkHref = link.getAttribute('href');
            const linkPath = new URL(link.href, window.location.origin).pathname;
            if (linkHref !== "#" && linkPath === currentPath) {
                link.closest('.nav-item').classList.add('active-item');
            }
        });
    });
</script>


